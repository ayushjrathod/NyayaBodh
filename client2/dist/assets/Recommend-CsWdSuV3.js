import{j as e,q as s,r as a,v as t,U as l,B as r,V as i,O as c,D as n,E as d}from"./ui-C1FR33ZW.js";import{a as m}from"./utils-COlzZPg4.js";import{c as o,i as x,j as p,k as h,F as g,P as j,l as y,g as u}from"./index-GHVuBVY8.js";import{r as b}from"./vendor-DMlfRnyX.js";import{G as N}from"./gavel-CnpQmECp.js";import{C as v}from"./calendar-D1ggNiKz.js";import{M as f}from"./map-pin-B2EjNGjZ.js";import{d as w}from"./router-Dze4JIbL.js";import"./charts-jwwhqExT.js";import"./auth-Bdeye9u2.js";import"./forms-BirKV14m.js";
/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=o("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),C=o("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),k=()=>{const[s,a]=b.useState(null),[t,l]=b.useState(!0),[r,i]=b.useState(null),{uuid:c}=w(),{toast:n}=x();if(b.useEffect(()=>{c?(async()=>{var e,s;try{l(!0),i(null);const e=await m.get(u.endpoints.recommend(c));e.data?(a(e.data),n.success("Recommendations loaded successfully")):(a(null),n.warning("No recommendation data available"))}catch(t){const l=(null==(s=null==(e=t.response)?void 0:e.data)?void 0:s.message)||"Failed to load recommendations";i(l),a(null),n.error(l)}finally{l(!1)}})():(l(!1),i("No case ID provided"))},[c,n]),t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"h-10 bg-gray-700 rounded-lg w-96 mx-auto animate-pulse"}),e.jsx("div",{className:"h-6 bg-gray-700 rounded-lg w-64 mx-auto animate-pulse"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(p,{type:"recommendation",count:1})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"h-8 bg-gray-700 rounded-lg w-48 animate-pulse"}),e.jsx("div",{className:"h-6 bg-gray-700 rounded-full w-16 animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsx(p,{type:"recommendation",count:4})})]})]})]})});if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-6",children:e.jsx(h,{type:"error",title:"Failed to Load Recommendations",description:r,actionLabel:"Try Again",onAction:()=>window.location.reload(),size:"lg",className:"text-white"})});if(!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-6",children:e.jsx(h,{type:"legal",title:"No Recommendation Data",description:"No recommendation data is available for this case.",actionLabel:"Go Back",onAction:()=>window.history.back(),size:"lg",className:"text-white"})});const{target_case:d,recommended_cases:o}=s;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-primary-500 mb-2",children:"Case Recommendation System"}),e.jsx("p",{className:"text-gray-300 text-lg",children:"Target case analysis with similar case recommendations"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(z,{targetCase:d})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(T,{cases:o})})]})]})})},z=({targetCase:i})=>e.jsxs(s,{className:"bg-gray-800/60 border border-primary-500/30 backdrop-blur-lg sticky top-6",children:[e.jsx(a,{className:"bg-gradient-to-r from-primary-500/20 to-primary-400/20 border-b border-primary-500/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:e.jsx(C,{className:"w-6 h-6 text-primary-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-primary-400",children:"Target Case"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Primary case for analysis"})]})]})}),e.jsx(t,{className:"space-y-4",children:e.jsx(l,{className:"max-h-[600px]",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(L,{caseData:i}),e.jsx(r,{className:"bg-gray-600/50"}),e.jsx(D,{caseData:i}),(null==i?void 0:i.summary)&&e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"bg-gray-600/50"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-primary-400 mb-2 flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4"}),"Case Summary"]}),e.jsx(l,{className:"max-h-48",children:e.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:i.summary})})]})]})]})})})]});
/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */z.propTypes={targetCase:j.object.isRequired};const T=({cases:s})=>s&&Array.isArray(s)&&0!==s.length?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold text-primary-400 flex items-center gap-3",children:[e.jsx(S,{className:"w-7 h-7"}),"Recommended Cases"]}),e.jsx(i,{content:s.length,color:"primary",variant:"solid",children:e.jsx("div",{className:"text-sm text-gray-400",children:"Total Matches"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((s,a)=>e.jsx(R,{recommendedCase:s,rank:a+1},s.uuid||a))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-2xl font-bold text-primary-400 flex items-center gap-3",children:[e.jsx(S,{className:"w-7 h-7"}),"Recommended Cases"]})}),e.jsx(h,{type:"legal",title:"No Recommended Cases",description:"No similar cases were found for the target case.",size:"md",className:"text-white bg-gray-800/60 border border-gray-600/50 rounded-lg p-8"})]});T.propTypes={cases:j.array};const R=({recommendedCase:n,rank:d})=>{var m;return e.jsxs(s,{className:"bg-gray-800/60 border border-gray-600/50 hover:border-primary-500/50 transition-all duration-300 hover:shadow-xl hover:shadow-primary-500/10",children:[e.jsx(a,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-start w-full",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i,{content:d,color:"primary",placement:"top-left",className:"p-0",children:e.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-primary-400",children:["#",d]})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-sm leading-tight",children:(null==n?void 0:n.CASE_NUMBER)||"N/A"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(null==n?void 0:n.file_name)||"Unknown file"})]})]}),e.jsxs(c,{color:"primary",variant:"flat",size:"sm",className:"bg-primary-500/20 text-primary-300",children:[(null==(m=null==n?void 0:n.similarity)?void 0:m.toFixed(1))||"N/A","% Match"]})]})}),e.jsx(t,{className:"pt-0",children:e.jsx(l,{className:"max-h-64",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(L,{caseData:n,isCompact:!0}),e.jsx(r,{className:"bg-gray-600/30"}),e.jsx(D,{caseData:n,isCompact:!0}),(null==n?void 0:n.summary)&&e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"bg-gray-600/30"}),e.jsx("div",{children:e.jsxs("p",{className:"text-xs text-gray-300 leading-relaxed",children:[n.summary.substring(0,200),"..."]})})]})]})})})]})};R.propTypes={recommendedCase:j.object.isRequired,rank:j.number.isRequired};const L=({caseData:s,isCompact:a=!1})=>{const t=a?"w-3 h-3":"w-4 h-4",l=a?"text-xs":"text-sm",r=a?"text-xs":"text-sm";return e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{icon:e.jsx(N,{className:t}),label:"Court",value:null==s?void 0:s.COURT,textSize:l,labelSize:r}),e.jsx(E,{icon:e.jsx(v,{className:t}),label:"Date",value:null==s?void 0:s.DATE,textSize:l,labelSize:r}),e.jsx(E,{icon:e.jsx(y,{className:t}),label:"Judge",value:null==s?void 0:s.JUDGE,textSize:l,labelSize:r,maxLength:a?50:100}),e.jsx(E,{icon:e.jsx(f,{className:t}),label:"Location",value:null==s?void 0:s.GPE,textSize:l,labelSize:r,maxLength:a?30:60})]})};L.propTypes={caseData:j.object,isCompact:j.bool};const D=({caseData:s,isCompact:a=!1})=>{const t=a?"text-xs":"text-sm";return e.jsxs(n,{variant:"splitted",className:"p-0",children:[e.jsx(d,{"aria-label":"Parties Involved",title:e.jsx("span",{className:`${t} font-semibold text-primary-400`,children:"Parties Involved"}),className:"bg-gray-700/30",children:e.jsxs("div",{className:"space-y-2 pb-2",children:[e.jsx(E,{label:"Petitioner",value:null==s?void 0:s.PETITIONER,textSize:t,maxLength:a?60:120}),e.jsx(E,{label:"Respondent",value:null==s?void 0:s.RESPONDENT,textSize:t,maxLength:a?60:120}),e.jsx(E,{label:"Lawyer",value:null==s?void 0:s.LAWYER,textSize:t,maxLength:a?40:80})]})},"parties"),e.jsx(d,{"aria-label":"Legal Information",title:e.jsx("span",{className:`${t} font-semibold text-primary-400`,children:"Legal Information"}),className:"bg-gray-700/30",children:e.jsxs("div",{className:"space-y-2 pb-2",children:[e.jsx(E,{label:"Statute",value:null==s?void 0:s.STATUTE,textSize:t,maxLength:a?60:120}),e.jsx(E,{label:"Provision",value:null==s?void 0:s.PROVISION,textSize:t,maxLength:a?60:120}),e.jsx(E,{label:"Precedent",value:null==s?void 0:s.PRECEDENT,textSize:t,maxLength:a?80:150})]})},"legal")]})};D.propTypes={caseData:j.object,isCompact:j.bool};const E=({icon:s,label:a,value:t,textSize:l="text-sm",labelSize:r="text-sm",maxLength:i=100})=>{if(!t||"null"===t||"N/A"===t)return null;const c="string"==typeof t&&t.length>i?`${t.substring(0,i)}...`:t;return e.jsxs("div",{className:"flex items-start gap-2",children:[s&&e.jsx("div",{className:"mt-1 text-primary-400 flex-shrink-0",children:s}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:`${r} font-semibold text-primary-400`,children:[a,":"]}),e.jsx("p",{className:`${l} text-gray-300 break-words`,children:c})]})]})};E.propTypes={icon:j.element,label:j.string.isRequired,value:j.oneOfType([j.string,j.number]),textSize:j.string,labelSize:j.string,maxLength:j.number};export{k as default};
