import{j as e,t as a,p as l,q as n,r as t,u as s,v as r,b as o,M as i}from"./ui-C1FR33ZW.js";import{r as c}from"./vendor-DMlfRnyX.js";import{C as d,w as m,x as h}from"./index-GHVuBVY8.js";import"./charts-jwwhqExT.js";import"./utils-COlzZPg4.js";import"./auth-Bdeye9u2.js";import"./router-Dze4JIbL.js";import"./forms-BirKV14m.js";const p=({label:a,name:n,value:t,onChange:s,placeholder:r})=>e.jsx(l,{label:a,name:n,value:t,onChange:s,placeholder:r,className:"mb-4"}),u=({formData:a,handleChange:l})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"General Details"}),e.jsx(p,{label:"Date",name:"date",value:a.date,onChange:l,placeholder:"Enter date"}),e.jsx(p,{label:"City",name:"city",value:a.city,onChange:l,placeholder:"Enter city"}),e.jsx(p,{label:"Stamp Duty",name:"stamp_duty",value:a.stamp_duty,onChange:l,placeholder:"Enter stamp duty"}),e.jsx(p,{label:"Stamp Duty GRN",name:"stamp_duty_grn",value:a.stamp_duty_grn,onChange:l,placeholder:"Enter stamp duty GRN"}),e.jsx(p,{label:"Stamp Duty Date",name:"stamp_duty_date",value:a.stamp_duty_date,onChange:l,placeholder:"Enter stamp duty date"}),e.jsx(p,{label:"Registration Fee",name:"registration_fee",value:a.registration_fee,onChange:l,placeholder:"Enter registration fee"}),e.jsx(p,{label:"Registration GRN",name:"registration_grn",value:a.registration_grn,onChange:l,placeholder:"Enter registration GRN"}),e.jsx(p,{label:"Registration Date",name:"registration_date",value:a.registration_date,onChange:l,placeholder:"Enter registration date"})]}),g=({formData:l,handleChange:n})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Licensor Details"}),e.jsx(p,{label:"Name",name:"licensor_name",value:l.licensor_name,onChange:n,placeholder:"Enter licensor name"}),e.jsx(p,{label:"Age",name:"licensor_age",value:l.licensor_age,onChange:n,placeholder:"Enter licensor age"}),e.jsx(p,{label:"Occupation",name:"licensor_occupation",value:l.licensor_occupation,onChange:n,placeholder:"Enter licensor occupation"}),e.jsx(p,{label:"PAN",name:"licensor_pan",value:l.licensor_pan,onChange:n,placeholder:"Enter licensor PAN"}),e.jsx(p,{label:"UID",name:"licensor_uid",value:l.licensor_uid,onChange:n,placeholder:"Enter licensor UID"}),e.jsx(a,{label:"Address",name:"licensor_address",value:l.licensor_address,onChange:n,placeholder:"Enter licensor address",className:"mb-4"})]}),x=({formData:l,handleChange:n})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Licensee Details"}),e.jsx(p,{label:"Name",name:"licensee_name",value:l.licensee_name,onChange:n,placeholder:"Enter licensee name"}),e.jsx(p,{label:"Age",name:"licensee_age",value:l.licensee_age,onChange:n,placeholder:"Enter licensee age"}),e.jsx(p,{label:"Occupation",name:"licensee_occupation",value:l.licensee_occupation,onChange:n,placeholder:"Enter licensee occupation"}),e.jsx(p,{label:"PAN",name:"licensee_pan",value:l.licensee_pan,onChange:n,placeholder:"Enter licensee PAN"}),e.jsx(p,{label:"UID",name:"licensee_uid",value:l.licensee_uid,onChange:n,placeholder:"Enter licensee UID"}),e.jsx(a,{label:"Address",name:"licensee_address",value:l.licensee_address,onChange:n,placeholder:"Enter licensee address",className:"mb-4"})]}),_=({formData:a,handleChange:l})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Lease Details"}),e.jsx(p,{label:"Period (Months)",name:"period",value:a.period,onChange:l,placeholder:"Enter lease period"}),e.jsx(p,{label:"Start Date",name:"start_date",value:a.start_date,onChange:l,placeholder:"Enter start date"}),e.jsx(p,{label:"End Date",name:"end_date",value:a.end_date,onChange:l,placeholder:"Enter end date"}),e.jsx(p,{label:"Monthly Rent",name:"monthly_rent",value:a.monthly_rent,onChange:l,placeholder:"Enter monthly rent"}),e.jsx(p,{label:"Deposit",name:"deposit",value:a.deposit,onChange:l,placeholder:"Enter deposit amount"}),e.jsx(p,{label:"Deposit Payment Method",name:"deposit_payment_method",value:a.deposit_payment_method,onChange:l,placeholder:"Enter deposit payment method"}),e.jsx(p,{label:"Maintenance Charges Paid By",name:"maintenance_charges_paid_by",value:a.maintenance_charges_paid_by,onChange:l,placeholder:"Enter who pays maintenance charges"}),e.jsx(p,{label:"Purpose",name:"purpose",value:a.purpose,onChange:l,placeholder:"Enter purpose"})]}),b=({formData:l,handleChange:n})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Property Details"}),e.jsx(p,{label:"Flat Number",name:"flat_number",value:l.flat_number,onChange:n,placeholder:"Enter flat number"}),e.jsx(p,{label:"Built Up Area",name:"built_up_area",value:l.built_up_area,onChange:n,placeholder:"Enter built-up area"}),e.jsx(p,{label:"Floor",name:"floor",value:l.floor,onChange:n,placeholder:"Enter floor number"}),e.jsx(p,{label:"Building Name",name:"building_name",value:l.building_name,onChange:n,placeholder:"Enter building name"}),e.jsx(a,{label:"Plot Details",name:"plot_details",value:l.plot_details,onChange:n,placeholder:"Enter plot details",className:"mb-4"}),e.jsx(p,{label:"Village",name:"village",value:l.village,onChange:n,placeholder:"Enter village"}),e.jsx(p,{label:"Tehsil",name:"tehsil",value:l.tehsil,onChange:n,placeholder:"Enter tehsil"}),e.jsx(p,{label:"District",name:"district",value:l.district,onChange:n,placeholder:"Enter district"}),e.jsx(p,{label:"Municipal Corporation",name:"municipal_corporation",value:l.municipal_corporation,onChange:n,placeholder:"Enter municipal corporation"})]});function j(){const[a,l]=c.useState({date:"",city:"",stamp_duty:"",stamp_duty_grn:"",stamp_duty_date:"",registration_fee:"",registration_grn:"",registration_date:"",licensor_name:"",licensor_age:"",licensor_occupation:"",licensor_pan:"",licensor_uid:"",licensor_address:"",licensee_name:"",licensee_age:"",licensee_occupation:"",licensee_pan:"",licensee_uid:"",licensee_address:"",period:"",start_date:"",end_date:"",monthly_rent:"",deposit:"",deposit_payment_method:"",maintenance_charges_paid_by:"",purpose:"",flat_number:"",built_up_area:"",floor:"",building_name:"",plot_details:"",village:"",tehsil:"",district:"",municipal_corporation:""}),[p,j]=c.useState(0),[v,f]=c.useState(""),[C,y]=c.useState(!1),[D,E]=c.useState(null),[N,P]=c.useState(!1),w=e=>{const{name:a,value:n}=e.target;l(e=>({...e,[a]:n}))},S=[{title:"General Details",component:e.jsx(u,{formData:a,handleChange:w})},{title:"Licensor Details",component:e.jsx(g,{formData:a,handleChange:w})},{title:"Licensee Details",component:e.jsx(x,{formData:a,handleChange:w})},{title:"Lease Details",component:e.jsx(_,{formData:a,handleChange:w})},{title:"Property Details",component:e.jsx(b,{formData:a,handleChange:w})}];return e.jsxs("div",{className:"flex justify-center items-center min-h-screen bg-background p-4",children:[e.jsxs(n,{className:"w-full max-w-4xl",children:[e.jsxs(t,{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Leave and License Agreement Form"}),e.jsx(s,{value:p/(S.length-1)*100,className:"max-w-md",color:"primary"})]}),e.jsx(r,{children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault();if(Object.values(a).every(e=>""!==e.trim()))try{const e=await fetch("https://whale-legal-api.onrender.com/generate-lnl-pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(e.ok){const a=await e.blob(),l=URL.createObjectURL(a);E(l),P(!0),y(!0),f("")}else f("Failed to submit the form. Please try again.")}catch(l){f("An error occurred while submitting the form. Please try again.")}else f("Please fill in all fields before submitting."),y(!1)},children:[S[p].component,v&&e.jsx("p",{className:"text-red-500 text-center",children:v}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsxs(o,{auto:!0,color:"default",disabled:0===p,onClick:()=>j(p-1),children:[e.jsx(d,{className:"mr-2"}),"Previous"]}),p===S.length-1?e.jsxs(o,{auto:!0,color:"success",type:"submit",children:[e.jsx(m,{className:"mr-2"}),"Submit"]}):e.jsxs(o,{auto:!0,color:"primary",onClick:()=>j(p+1),children:["Next",e.jsx(h,{className:"ml-2"})]})]}),C&&e.jsx("p",{className:"text-green-500 text-center mt-4",children:"Form submitted successfully!"})]})})]}),e.jsxs(i,{isOpen:N,onClose:()=>{P(!1),URL.revokeObjectURL(D),E(null)},children:[e.jsx(i.Header,{children:e.jsx("h3",{className:"text-lg font-semibold",children:"PDF Preview"})}),e.jsx(i.Body,{children:D&&e.jsx("iframe",{src:D,width:"100%",height:"600px",title:"PDF Preview"})})]})]})}export{j as default};
