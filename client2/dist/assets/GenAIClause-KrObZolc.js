import{j as e,q as a,r as s,B as t,v as l,p as i,t as r,b as n}from"./ui-C1FR33ZW.js";import{a as o}from"./utils-COlzZPg4.js";import{r as d}from"./vendor-DMlfRnyX.js";import{c,F as p,y as m}from"./index-GHVuBVY8.js";import"./charts-jwwhqExT.js";import"./auth-Bdeye9u2.js";import"./router-Dze4JIbL.js";import"./forms-BirKV14m.js";
/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=c("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),u=()=>{const[c,u]=d.useState(null),[h,f]=d.useState(""),[j,y]=d.useState(""),[v,b]=d.useState(!1),[w,P]=d.useState("");return e.jsxs("div",{className:"max-w-4xl h-screen mx-auto p-4 space-y-6",children:[e.jsxs(a,{children:[e.jsxs(s,{className:"flex gap-3",children:[e.jsx(p,{size:24}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-md",children:"AI-Powered PDF Modification"}),e.jsx("p",{className:"text-small text-default-500",children:"Upload a PDF and enter a clause to modify it"})]})]}),e.jsx(t,{}),e.jsx(l,{children:e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),b(!0),P(null),y(null),!c||!h)return P("Please provide both a PDF file and a clause."),void b(!1);const a=new FormData;a.append("file",c),a.append("user_clause",h);try{const e=await o.post("https://whale-legal-api.onrender.com/genai/",a,{headers:{"Content-Type":"multipart/form-data"},responseType:"blob"}),s=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));y(s)}catch(s){P("An error occurred while processing the PDF. Please try again.")}finally{b(!1)}},className:"space-y-6",children:[e.jsx(i,{type:"file",accept:"application/pdf",onChange:e=>{var a;const s=null==(a=e.target.files)?void 0:a[0];s&&"application/pdf"===s.type?(u(s),P(null)):P("Please upload a valid PDF file.")},disabled:v,startContent:e.jsx(x,{size:18}),label:"Upload PDF"}),e.jsx(r,{value:h,onChange:e=>{f(e.target.value)},placeholder:"Enter modification clause",disabled:v,label:"Enter Clause",minRows:3}),w&&e.jsxs("div",{className:"flex items-center text-danger",children:[e.jsx(m,{size:18,className:"mr-2"}),e.jsx("span",{children:w})]}),e.jsx(n,{type:"submit",disabled:v,color:"primary",className:"w-full",startContent:v?null:e.jsx(p,{size:18}),children:v?"Processing...":"Modify PDF"})]})})]}),j&&e.jsx(a,{children:e.jsx(l,{children:e.jsx("iframe",{src:j,title:"Modified PDF",width:"100%",height:"600px",className:"rounded-md"})})})]})};export{u as default};
