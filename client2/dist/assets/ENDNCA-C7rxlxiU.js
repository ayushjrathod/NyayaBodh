import{j as e,t as a,p as s,q as l,r as t,u as n,v as o,b as r,M as m}from"./ui-C1FR33ZW.js";import{r as i}from"./vendor-DMlfRnyX.js";import{C as c,w as d,x as h}from"./index-GHVuBVY8.js";import"./charts-jwwhqExT.js";import"./utils-COlzZPg4.js";import"./auth-Bdeye9u2.js";import"./router-Dze4JIbL.js";import"./forms-BirKV14m.js";const p=({label:a,name:l,value:t,onChange:n,placeholder:o})=>e.jsx(s,{label:a,name:l,value:t,onChange:n,placeholder:o,className:"mb-4"}),x=({formData:s,handleChange:l})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Company Details"}),e.jsx(p,{label:"Company Name",name:"company_name",value:s.company_name,onChange:l,placeholder:"Enter company name"}),e.jsx(a,{label:"Company Address",name:"company_address",value:s.company_address,onChange:l,placeholder:"Enter company address",className:"mb-4"})]}),j=({formData:s,handleChange:l})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Employee Details"}),e.jsx(p,{label:"Employee Name",name:"employee_name",value:s.employee_name,onChange:l,placeholder:"Enter employee name"}),e.jsx(a,{label:"Employee Address",name:"employee_address",value:s.employee_address,onChange:l,placeholder:"Enter employee address",className:"mb-4"})]}),u=({formData:a,handleChange:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Agreement Details"}),e.jsx(p,{label:"High Court City",name:"high_court_city",value:a.high_court_city,onChange:s,placeholder:"Enter high court city"})]});function y(){const[a,s]=i.useState({company_name:"",company_address:"",employee_name:"",employee_address:"",high_court_city:""}),[p,y]=i.useState(0),[f,b]=i.useState(""),[g,C]=i.useState(!1),[v,N]=i.useState(null),[_,D]=i.useState(!1),w=e=>{const{name:a,value:l}=e.target;s(e=>({...e,[a]:l}))},E=()=>{D(!1),URL.revokeObjectURL(v),N(null)},S=[{title:"Company Details",component:e.jsx(x,{formData:a,handleChange:w})},{title:"Employee Details",component:e.jsx(j,{formData:a,handleChange:w})},{title:"Agreement Details",component:e.jsx(u,{formData:a,handleChange:w})}];return e.jsxs("div",{className:"flex justify-center items-center min-h-screen bg-background p-4",children:[e.jsxs(l,{className:"w-full max-w-4xl",children:[e.jsxs(t,{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Employee NDA Form"}),e.jsx(n,{value:p/(S.length-1)*100,className:"max-w-md",color:"primary"})]}),e.jsx(o,{children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault();if(Object.values(a).every(e=>""!==e.trim()))try{const e=await fetch("https://whale-legal-api.onrender.com/generate_employee_nda_pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(e.ok){const a=await e.blob(),s=URL.createObjectURL(a);N(s),D(!0),C(!0),b("")}else b("Failed to submit the form. Please try again.")}catch(s){b("An error occurred while submitting the form. Please try again.")}else b("Please fill in all fields before submitting."),C(!1)},children:[S[p].component,f&&e.jsx("p",{className:"text-red-500 text-center",children:f}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsxs(r,{auto:!0,color:"default",disabled:0===p,onClick:()=>y(p-1),children:[e.jsx(c,{className:"mr-2"}),"Previous"]}),p===S.length-1?e.jsxs(r,{auto:!0,color:"success",type:"submit",children:[e.jsx(d,{className:"mr-2"}),"Submit"]}):e.jsxs(r,{auto:!0,color:"primary",onClick:()=>y(p+1),children:["Next",e.jsx(h,{className:"ml-2"})]})]}),g&&e.jsx("p",{className:"text-green-500 text-center mt-4",children:"Form submitted successfully!"})]})})]}),e.jsxs(m,{isOpen:_,onClose:E,children:[e.jsx(m.Header,{children:e.jsx("h3",{className:"text-lg font-semibold",children:"PDF Preview"})}),e.jsx(m.Body,{children:v&&e.jsx("iframe",{src:v,width:"100%",height:"600px",title:"PDF Preview"})}),e.jsx(m.Footer,{children:e.jsx(r,{auto:!0,color:"error",onClick:E,children:"Close"})})]})]})}export{y as default};
