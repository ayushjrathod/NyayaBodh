import{j as e,b as a,p as s,t,q as l,r as n,u as r,v as o,M as i}from"./ui-C1FR33ZW.js";import{r as c}from"./vendor-DMlfRnyX.js";import{c as d,C as m,w as h,x}from"./index-GHVuBVY8.js";import"./charts-jwwhqExT.js";import"./utils-COlzZPg4.js";import"./auth-Bdeye9u2.js";import"./router-Dze4JIbL.js";import"./forms-BirKV14m.js";
/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=d("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),j=({label:a,name:t,value:l,onChange:n,placeholder:r})=>e.jsx(s,{label:a,name:t,value:l,onChange:n,placeholder:r,className:"mb-4"}),p=({label:a,name:s,value:l,onChange:n,placeholder:r})=>e.jsx(t,{label:a,name:s,value:l,onChange:n,placeholder:r,className:"mb-4"}),g=({formData:a,handleChange:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Testator Details"}),e.jsx(j,{label:"Testator Name",name:"testator_name",value:a.testator_name,onChange:s,placeholder:"Enter testator's name"}),e.jsx(j,{label:"Father's Name",name:"father_name",value:a.father_name,onChange:s,placeholder:"Enter father's name"}),e.jsx(p,{label:"Address",name:"testator_address",value:a.testator_address,onChange:s,placeholder:"Enter address"}),e.jsx(j,{label:"Age",name:"testator_age",value:a.testator_age,onChange:s,placeholder:"Enter age"}),e.jsx(j,{label:"Religion",name:"religion",value:a.religion,onChange:s,placeholder:"Enter religion"}),e.jsx(j,{label:"Occupation",name:"occupation",value:a.occupation,onChange:s,placeholder:"Enter occupation"})]}),f=({formData:a,handleChange:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Family Details"}),e.jsx(j,{label:"Wife's Name",name:"wife_name",value:a.wife_name,onChange:s,placeholder:"Enter wife's name"}),e.jsx(p,{label:"Children Details",name:"children_details",value:a.children_details,onChange:s,placeholder:"Enter children details"}),e.jsx(p,{label:"Family Members",name:"family_members",value:a.family_members,onChange:s,placeholder:"Enter family members details"})]}),_=({formData:a,handleChange:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Property Details"}),e.jsx(p,{label:"Property Details",name:"property_details",value:a.property_details,onChange:s,placeholder:"Enter property details"})]}),b=({formData:s,handleExecutorChange:t,addExecutor:l})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Executors"}),s.executors.map((a,s)=>e.jsxs("div",{className:"mb-6 p-4 border rounded",children:[e.jsxs("h4",{className:"font-medium mb-3",children:["Executor ",s+1]}),e.jsx(j,{label:"Name",value:a.name,onChange:e=>t(s,"name",e.target.value),placeholder:"Enter executor's name"}),e.jsx(j,{label:"Father's Name",value:a.father_name,onChange:e=>t(s,"father_name",e.target.value),placeholder:"Enter father's name"}),e.jsx(p,{label:"Address",value:a.address,onChange:e=>t(s,"address",e.target.value),placeholder:"Enter address"}),e.jsx(j,{label:"Age",value:a.age,onChange:e=>t(s,"age",e.target.value),placeholder:"Enter age"}),e.jsx(j,{label:"Religion",value:a.religion,onChange:e=>t(s,"religion",e.target.value),placeholder:"Enter religion"}),e.jsx(j,{label:"Occupation",value:a.occupation,onChange:e=>t(s,"occupation",e.target.value),placeholder:"Enter occupation"})]},s)),e.jsxs(a,{auto:!0,color:"secondary",onClick:l,className:"mt-2",children:[e.jsx(u,{className:"mr-2"}),"Add Executor"]})]}),v=({formData:a,handleChange:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Witnesses"}),e.jsx(j,{label:"Witness 1 Name",name:"witness_1_name",value:a.witness_1_name,onChange:s,placeholder:"Enter first witness name"}),e.jsx(p,{label:"Witness 1 Address",name:"witness_1_address",value:a.witness_1_address,onChange:s,placeholder:"Enter first witness address"}),e.jsx(j,{label:"Witness 2 Name",name:"witness_2_name",value:a.witness_2_name,onChange:s,placeholder:"Enter second witness name"}),e.jsx(p,{label:"Witness 2 Address",name:"witness_2_address",value:a.witness_2_address,onChange:s,placeholder:"Enter second witness address"})]}),C=({formData:a,handleChange:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contract Date"}),e.jsx(j,{label:"Day",name:"day_of_contract",value:a.day_of_contract,onChange:s,placeholder:"Enter day"}),e.jsx(j,{label:"Month",name:"month_of_contract",value:a.month_of_contract,onChange:s,placeholder:"Enter month"}),e.jsx(j,{label:"Year",name:"year_of_contract",value:a.year_of_contract,onChange:s,placeholder:"Enter year"})]});function y(){const[s,t]=c.useState({file_name:"will_deed.pdf",testator_name:"",father_name:"",testator_address:"",testator_age:"",religion:"",occupation:"",wife_name:"",children_details:"",family_members:"",property_details:"",executors:[{name:"",father_name:"",address:"",age:"",religion:"",occupation:""}],witness_1_name:"",witness_1_address:"",witness_2_name:"",witness_2_address:"",day_of_contract:"",month_of_contract:"",year_of_contract:""}),[d,u]=c.useState(0),[j,p]=c.useState(""),[y,w]=c.useState(!1),[N,E]=c.useState(null),[D,P]=c.useState(!1),F=e=>{const{name:a,value:s}=e.target;t(e=>({...e,[a]:s}))},S=[{title:"Testator Details",component:e.jsx(g,{formData:s,handleChange:F})},{title:"Family Details",component:e.jsx(f,{formData:s,handleChange:F})},{title:"Property Details",component:e.jsx(_,{formData:s,handleChange:F})},{title:"Executors",component:e.jsx(b,{formData:s,handleChange:F,handleExecutorChange:(e,a,l)=>{const n=[...s.executors];n[e][a]=l,t(e=>({...e,executors:n}))},addExecutor:()=>{t(e=>({...e,executors:[...e.executors,{name:"",father_name:"",address:"",age:"",religion:"",occupation:""}]}))}})},{title:"Witnesses",component:e.jsx(v,{formData:s,handleChange:F})},{title:"Contract Date",component:e.jsx(C,{formData:s,handleChange:F})}];return e.jsxs("div",{className:"flex justify-center items-center min-h-screen bg-background p-4",children:[e.jsxs(l,{className:"w-full max-w-4xl",children:[e.jsxs(n,{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Will Deed Form"}),e.jsx(r,{value:d/(S.length-1)*100,className:"max-w-md",color:"primary"})]}),e.jsx(o,{children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault();if(Object.entries(s).every(([e,a])=>"executors"===e?a.every(e=>Object.values(e).every(e=>""!==e.trim())):"string"!=typeof a||""!==a.trim()))try{const e=await fetch("https://whale-legal-api.onrender.com/generate_will_deed_pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(e.ok){const a=await e.blob(),s=URL.createObjectURL(a);E(s),P(!0),w(!0),p("")}else p("Failed to submit the form. Please try again.")}catch(a){p("An error occurred. Please try again later.")}else p("Please fill in all required fields.")},children:[S[d].component,j&&e.jsx("p",{className:"text-red-500 text-center mt-4",children:j}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs(a,{auto:!0,color:"default",disabled:0===d,onClick:()=>u(e=>e-1),children:[e.jsx(m,{className:"mr-2"}),"Previous"]}),d===S.length-1?e.jsxs(a,{auto:!0,color:"success",type:"submit",children:[e.jsx(h,{className:"mr-2"}),"Submit"]}):e.jsxs(a,{auto:!0,color:"primary",onClick:()=>u(e=>e+1),children:["Next",e.jsx(x,{className:"ml-2"})]})]}),y&&e.jsx("p",{className:"text-green-500 text-center mt-4",children:"Form submitted successfully!"})]})})]}),e.jsxs(i,{isOpen:D,onClose:()=>{P(!1),URL.revokeObjectURL(N),E(null)},children:[e.jsx(i.Header,{children:e.jsx("h3",{className:"text-lg font-semibold",children:"PDF Preview"})}),e.jsx(i.Body,{children:N&&e.jsx("iframe",{src:N,width:"100%",height:"600px",title:"PDF Preview"})}),e.jsx(i.Footer,{children:e.jsx(a,{auto:!0,color:"error",onClick:()=>P(!1),children:"Close"})})]})]})}export{y as default};
