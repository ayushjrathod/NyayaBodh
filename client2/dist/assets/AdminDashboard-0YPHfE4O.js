import{j as e,b as l,G as a,H as s,I as r,J as n,K as i,L as d,M as u,p as o,z as t,A as c}from"./ui-C1FR33ZW.js";import{r as j}from"./vendor-DMlfRnyX.js";import{c as h,u as m,a as x,f as p,E as v,b as f,d as E,e as y}from"./index-GHVuBVY8.js";import"./charts-jwwhqExT.js";import"./utils-COlzZPg4.js";import"./auth-Bdeye9u2.js";import"./router-Dze4JIbL.js";import"./forms-BirKV14m.js";
/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=h("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),C=h("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);
/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function g(){const h=m(),{users:g,status:R}=x(e=>e.admin),[A,U]=j.useState(null),[k,L]=j.useState(!1),[b,D]=j.useState({email:"",fullname:"",password:"",role:"USER"});j.useEffect(()=>{h(p())},[h]);return e.jsxs("div",{children:[e.jsx(l,{color:"primary",onPress:()=>L(!0),children:"Add New User"}),"loading"===R?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx(v,{size:"md",label:"Loading users...",center:!0})}):e.jsxs(a,{children:[e.jsxs(s,{children:[e.jsx(r,{children:"Email"}),e.jsx(r,{children:"Full Name"}),e.jsx(r,{children:"Role"}),e.jsx(r,{children:"Actions"})]}),e.jsx(n,{children:g.map(a=>e.jsxs(i,{children:[e.jsx(d,{children:a.email}),e.jsx(d,{children:a.fullname}),e.jsx(d,{children:a.role}),e.jsxs(d,{children:[e.jsx(l,{onClick:()=>(e=>{U(e),D({email:e.email,fullname:e.fullname,role:e.role})})(a),children:e.jsx(w,{})}),e.jsx(l,{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this user?")&&await h(y(e))})(a.id),children:e.jsx(C,{})})]})]},a.id))})]}),A&&e.jsxs(u,{isOpen:!0,onClose:()=>U(null),children:[e.jsx(o,{label:"Email",value:b.email,onChange:e=>D({...b,email:e.target.value})}),e.jsx(o,{label:"Full Name",value:b.fullname,onChange:e=>D({...b,fullname:e.target.value})}),e.jsxs(t,{label:"Role",value:b.role,onChange:e=>D({...b,role:e.target.value}),children:[e.jsx(c,{value:"ADMIN",children:"Admin"},"ADMIN"),e.jsx(c,{value:"LAWYER",children:"Lawyer"},"LAWYER"),e.jsx(c,{value:"JUDGE",children:"Judge"},"JUDGE"),e.jsx(c,{value:"CLERK",children:"Clerk"},"CLERK"),e.jsx(c,{value:"USER",children:"User"},"USER")]}),e.jsx(l,{onClick:()=>(async(e,l)=>{try{await h(f({userId:e,userData:{email:l.email,fullname:l.fullname,role:l.role,...l.password&&{password:l.password}}})).unwrap()}catch(a){}})(A.id,b),children:"Update"})]}),k&&e.jsxs(u,{isOpen:!0,onClose:()=>L(!1),children:[e.jsx(o,{label:"Email",value:b.email,onChange:e=>D({...b,email:e.target.value})}),e.jsx(o,{label:"Full Name",value:b.fullname,onChange:e=>D({...b,fullname:e.target.value})}),e.jsx(o,{type:"password",label:"Password",value:b.password,onChange:e=>D({...b,password:e.target.value})}),e.jsxs(t,{label:"Role",value:b.role,onChange:e=>D({...b,role:e.target.value}),children:[e.jsx(c,{value:"ADMIN",children:"Admin"},"ADMIN"),e.jsx(c,{value:"LAWYER",children:"Lawyer"},"LAWYER"),e.jsx(c,{value:"JUDGE",children:"Judge"},"JUDGE"),e.jsx(c,{value:"CLERK",children:"Clerk"},"CLERK"),e.jsx(c,{value:"USER",children:"User"},"USER")]}),e.jsx(l,{onClick:async()=>{await h(E(b)),L(!1),D({email:"",fullname:"",password:"",role:"USER"})},children:"Create"})]})]})}export{g as default};
