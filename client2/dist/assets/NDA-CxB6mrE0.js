import{j as e,t as a,p as s,q as t,r as n,u as l,v as r,b as i,M as o}from"./ui-C1FR33ZW.js";import{r as c}from"./vendor-DMlfRnyX.js";import{C as m,w as d,x as h}from"./index-GHVuBVY8.js";import"./charts-jwwhqExT.js";import"./utils-COlzZPg4.js";import"./auth-Bdeye9u2.js";import"./router-Dze4JIbL.js";import"./forms-BirKV14m.js";const u=({label:a,name:t,value:n,onChange:l,placeholder:r})=>e.jsx(s,{label:a,name:t,value:n,onChange:l,placeholder:r,className:"mb-4"}),x=({formData:a,handleChange:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Effective Date"}),e.jsx(u,{label:"Effective Date",name:"effective_date",value:a.effective_date,onChange:s,placeholder:"Enter effective date"})]}),p=({formData:a,handleChange:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Party Details"}),e.jsx(u,{label:"Party 1 Name",name:"party1_name",value:a.party1_name,onChange:s,placeholder:"Enter Party 1 name"}),e.jsx(u,{label:"Party 2 Name",name:"party2_name",value:a.party2_name,onChange:s,placeholder:"Enter Party 2 name"}),e.jsx(u,{label:"Party 1 Business",name:"party1_business",value:a.party1_business,onChange:s,placeholder:"Enter Party 1 business"}),e.jsx(u,{label:"Party 2 Business",name:"party2_business",value:a.party2_business,onChange:s,placeholder:"Enter Party 2 business"})]}),j=({formData:s,handleChange:t})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Purpose"}),e.jsx(a,{label:"Purpose",name:"purpose",value:s.purpose,onChange:t,placeholder:"Enter purpose",className:"mb-4"})]}),f=({formData:a,handleChange:s})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Confidentiality"}),e.jsx(u,{label:"Confidentiality Period (Years)",name:"confidentiality_period",value:a.confidentiality_period,onChange:s,placeholder:"Enter confidentiality period"}),e.jsx(u,{label:"Jurisdiction",name:"jurisdiction",value:a.jurisdiction,onChange:s,placeholder:"Enter jurisdiction"})]});function b(){const[a,s]=c.useState({effective_date:"",party1_name:"",party2_name:"",party1_business:"",party2_business:"",purpose:"",confidentiality_period:"",jurisdiction:""}),[u,b]=c.useState(0),[y,g]=c.useState(""),[v,C]=c.useState(!1),[N,P]=c.useState(null),[_,D]=c.useState(!1),w=e=>{const{name:a,value:t}=e.target;s(e=>({...e,[a]:t}))},E=()=>{D(!1),URL.revokeObjectURL(N),P(null)},S=[{title:"Effective Date",component:e.jsx(x,{formData:a,handleChange:w})},{title:"Party Details",component:e.jsx(p,{formData:a,handleChange:w})},{title:"Purpose",component:e.jsx(j,{formData:a,handleChange:w})},{title:"Confidentiality",component:e.jsx(f,{formData:a,handleChange:w})}];return e.jsxs("div",{className:"flex justify-center items-center min-h-screen bg-background p-4",children:[e.jsxs(t,{className:"w-full max-w-4xl",children:[e.jsxs(n,{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Non-Disclosure Agreement"}),e.jsx(l,{value:u/(S.length-1)*100,className:"max-w-md",color:"primary"})]}),e.jsx(r,{children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault();if(Object.values(a).every(e=>""!==e.trim()))try{const e=await fetch("https://whale-legal-api.onrender.com/generate-general-nda-pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(e.ok){const a=await e.blob(),s=URL.createObjectURL(a);P(s),D(!0),C(!0),g("")}else g("Failed to submit the form. Please try again.")}catch(s){g("An error occurred while submitting the form. Please try again.")}else g("Please fill in all fields before submitting."),C(!1)},children:[S[u].component,y&&e.jsx("p",{className:"text-red-500 text-center",children:y}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsxs(i,{auto:!0,color:"default",disabled:0===u,onClick:()=>b(u-1),children:[e.jsx(m,{className:"mr-2"}),"Previous"]}),u===S.length-1?e.jsxs(i,{auto:!0,color:"success",type:"submit",children:[e.jsx(d,{className:"mr-2"}),"Submit"]}):e.jsxs(i,{auto:!0,color:"primary",onClick:()=>b(u+1),children:["Next",e.jsx(h,{className:"ml-2"})]})]}),v&&e.jsx("p",{className:"text-green-500 text-center mt-4",children:"Form submitted successfully!"})]})})]}),e.jsxs(o,{isOpen:_,onClose:E,children:[e.jsx(o.Header,{children:e.jsx("h3",{className:"text-lg font-semibold",children:"PDF Preview"})}),e.jsx(o.Body,{children:N&&e.jsx("iframe",{src:N,width:"100%",height:"600px",title:"PDF Preview"})}),e.jsx(o.Footer,{children:e.jsx(i,{auto:!0,color:"error",onClick:E,children:"Close"})})]})]})}export{b as default};
